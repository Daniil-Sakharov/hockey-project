# üìè CODE STYLE - Hockey Project

## üéØ –ó–æ–ª–æ—Ç–æ–µ –ø—Ä–∞–≤–∏–ª–æ —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–æ–≤

| –†–∞–∑–º–µ—Ä | –°—Ç–∞—Ç—É—Å |
|--------|--------|
| **50-100 —Å—Ç—Ä–æ–∫** | ‚úÖ –ò–î–ï–ê–õ–¨–ù–û |
| **100-150 —Å—Ç—Ä–æ–∫** | ‚ö†Ô∏è –ü—Ä–∏–µ–º–ª–µ–º–æ |
| **150+ —Å—Ç—Ä–æ–∫** | ‚ùå –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û —Ä–∞–∑–¥–µ–ª–∏—Ç—å |
| **200+ —Å—Ç—Ä–æ–∫** | üö´ –ù–ò–ö–û–ì–î–ê |

## üìÅ –ü—Ä–∏–Ω—Ü–∏–ø—ã —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤

1. **–û–¥–∏–Ω —Ñ–∞–π–ª = –æ–¥–Ω–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å**
2. **–õ–æ–≥–∏—á–µ—Å–∫–æ–µ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π**
3. **–õ–µ–≥–∫–æ—Å—Ç—å –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –∏ –ø–æ–∏—Å–∫–∞**
4. **–ü—Ä–æ—Å—Ç–æ—Ç–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**
5. **–£–¥–æ–±—Å—Ç–≤–æ code review**

### –ü—Ä–∏–º–µ—Ä –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:
```
errors/
‚îú‚îÄ‚îÄ types/
‚îÇ   ‚îú‚îÄ‚îÄ base.go           # 80 —Å—Ç—Ä–æ–∫ - –±–∞–∑–æ–≤—ã–π —Ç–∏–ø
‚îÇ   ‚îú‚îÄ‚îÄ parsing.go        # 60 —Å—Ç—Ä–æ–∫ - parsing –æ—à–∏–±–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ business.go       # 50 —Å—Ç—Ä–æ–∫ - business –æ—à–∏–±–∫–∏
‚îÇ   ‚îî‚îÄ‚îÄ infrastructure.go # 70 —Å—Ç—Ä–æ–∫ - infra –æ—à–∏–±–∫–∏
‚îú‚îÄ‚îÄ handlers/
‚îÇ   ‚îú‚îÄ‚îÄ handler.go        # 40 —Å—Ç—Ä–æ–∫ - –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îÇ   ‚îú‚îÄ‚îÄ retry.go          # 90 —Å—Ç—Ä–æ–∫ - retry –ª–æ–≥–∏–∫–∞
‚îÇ   ‚îî‚îÄ‚îÄ logger.go         # 60 —Å—Ç—Ä–æ–∫ - –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
```

---

## üèõÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

### –ú–æ–¥—É–ª—å–Ω—ã–π –º–æ–Ω–æ–ª–∏—Ç
- –ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –º–æ–¥—É–ª–µ–π
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏
- Shared –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è –æ–±—â–µ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
- DI –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–¥—É–ª—è
```
internal/modules/<module>/
‚îú‚îÄ‚îÄ domain/           # Entities, value objects, interfaces
‚îú‚îÄ‚îÄ application/      # Use cases, services, orchestrators
‚îú‚îÄ‚îÄ infrastructure/   # Repositories, external services
‚îî‚îÄ‚îÄ interfaces/       # HTTP handlers, bot handlers
```

### –ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞
- –ü–æ–Ω—è—Ç–Ω—ã–µ –∏–º–µ–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏ —Ñ—É–Ω–∫—Ü–∏–π
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –¥–ª—è —Å–ª–æ–∂–Ω–æ–π –ª–æ–≥–∏–∫–∏
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –Ω–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω—è—Ö
- Unit —Ç–µ—Å—Ç—ã —Ä—è–¥–æ–º —Å –∫–æ–¥–æ–º (`*_test.go`)

---

## üîß –ü—Ä–∞–≤–∏–ª–∞ –ø—Ä–æ–µ–∫—Ç–∞

### –ò—Å–ø–æ–ª—å–∑—É–µ–º –¢–û–õ–¨–ö–û
- `internal/modules/` - –∞–∫—Ç—É–∞–ª—å–Ω—ã–π –∫–æ–¥
- `cmd/**/main.go` - entry points

### –ù–ï –¢–†–û–ì–ê–¢–¨ (legacy)
- `internal/client/` - —Å—Ç–∞—Ä—ã–π –∫–æ–¥
- `internal/service/` - —Å—Ç–∞—Ä—ã–π –∫–æ–¥
- `internal/repository/` - —Å—Ç–∞—Ä—ã–π –∫–æ–¥

### Build
```bash
# –í—Å–µ –±–∏–Ω–∞—Ä–Ω–∏–∫–∏ –≤ bin/
go build -o bin/bot ./cmd/bot
go build -o bin/scheduler ./cmd/scheduler
```

---

## üìù –ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ

### –§–∞–π–ª—ã
- `snake_case.go` –¥–ª—è Go —Ñ–∞–π–ª–æ–≤
- –°—É—Ñ—Ñ–∏–∫—Å `_test.go` –¥–ª—è —Ç–µ—Å—Ç–æ–≤
- –ü–æ–Ω—è—Ç–Ω—ã–µ –∏–º–µ–Ω–∞ –æ—Ç—Ä–∞–∂–∞—é—â–∏–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ —Ñ—É–Ω–∫—Ü–∏–∏
- `camelCase` –¥–ª—è –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö
- `PascalCase` –¥–ª—è –ø—É–±–ª–∏—á–Ω—ã—Ö
- –ö–æ—Ä–æ—Ç–∫–∏–µ –∏–º–µ–Ω–∞ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö (`ctx`, `err`, `tx`)
- –û–ø–∏—Å–∞—Ç–µ–ª—å–Ω—ã–µ –∏–º–µ–Ω–∞ –¥–ª—è –ø–æ–ª–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä

### –ü–∞–∫–µ—Ç—ã
- –ö–æ—Ä–æ—Ç–∫–∏–µ, –æ–¥–Ω–æ —Å–ª–æ–≤–æ
- –ë–µ–∑ –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏–π
- –ù–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `common`, `utils`, `helpers`

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

- Unit —Ç–µ—Å—Ç—ã –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–π –ª–æ–≥–∏–∫–∏
- –§–∞–π–ª —Ç–µ—Å—Ç–∞ —Ä—è–¥–æ–º —Å –∫–æ–¥–æ–º: `service.go` ‚Üí `service_test.go`
- Table-driven tests –¥–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –∫–µ–π—Å–æ–≤
- –ú–æ–∫–∏ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã

---

## üîÑ –ü—Ä–æ—Ç–æ–∫–æ–ª –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

–ü—Ä–∏ —Å–±—Ä–æ—Å–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–≥–æ –æ–∫–Ω–∞:

1. **–ó–∞–≥—Ä—É–∑–∏—Ç—å Memory MCP** - `read_graph`
2. **–ü—Ä–æ—á–∏—Ç–∞—Ç—å Knowledge Base** - PROJECT_RULES.md, CODE_ANALYSIS.md
3. **–ó–∞–≥—Ä—É–∑–∏—Ç—å TODO list** - –ø–æ–Ω—è—Ç—å —Ç–µ–∫—É—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å
4. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–∞–π–ª–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É** - –ø–æ–Ω—è—Ç—å –≥–¥–µ –æ—Å—Ç–∞–Ω–æ–≤–∏–ª–∏—Å—å

**–ù–ò–ö–û–ì–î–ê –Ω–µ –Ω–∞—á–∏–Ω–∞—Ç—å —Ä–∞–±–æ—Ç—É –±–µ–∑ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞!**

---

*–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 2025-12-23*
